<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Table</title>
    <link rel="stylesheet" type="text/css" href="table.css">
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 60px;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        .button-container {
            margin-top: 20px;
            text-align: center;
        }

        button {
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <div class="home-button-container">
        <a href="node.html">
            <button class="home-button">노드선택 페이지로 돌아가기</button>
        </a>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyD3gtAQSeNJlZwNu5ijroQKMBLhaRgsy78",
            authDomain: "changong-db.firebaseapp.com",
            projectId: "changong-db",
            storageBucket: "changong-db.appspot.com",
            messagingSenderId: "547727736021",
            appId: "1:547727736021:web:5df00dc7cee921bf47f65c",
            measurementId: "G-M2ZBEQZ7HL"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>

    <div class="button-container">
        <button id="startButton">시작</button>
        <button id="stopButton">멈춤</button>
    </div>

    <table id="dynamicTable">
        <thead>
            <tr>
                <th>for 루프</th>
                <th>선택된 정점</th>
                <th>S=true인 정점</th>
                <th>[1]</th>
                <th>[2]</th>
                <th>[3]</th>
                <th>[4]</th>
                <th>[5]</th>
                <th>[6]</th>
                <th>[7]</th>
                <th>[8]</th>
                <th>[9]</th>
                <th>[10]</th>
            </tr>
        </thead>
        <tbody>
            <!-- 행들은 여기에 추가될 것입니다. -->
            <tr>
                <td id="cell1_1"></td>
                <td id="cell2_1"></td>
                <td id="cell3_1"></td>
                <td id="cell4_1"></td>
                <td id="cell5_1"></td>
                <td id="cell6_1"></td>
                <td id="cell7_1"></td>
                <td id="cell8_1"></td>
                <td id="cell9_1"></td>
                <td id="cell10_1"></td>
                <td id="cell11_1"></td>
                <td id="cell12_1"></td>
                <td id="cell13_1"></td>
            </tr>
        </tbody>
    </table>

    <script>
        var callCount = 1; //함수가 호출된 횟수 = 표에서의 실행횟수
        var intervalId; // setInterval 함수의 반환 값 저장 (멈춤 버튼을 눌렀을 때 clearInterval을 호출하기 위함)
        var tt = 33;

        function updateTable() {
            document.getElementById('cell1_1').innerText = '초기화';
            //document.getElementById('cell2_1').innerText = Math.floor(Math.random() * 100);
            document.getElementById('cell3_1').innerText = '[0]';
            document.getElementById('cell4_1').innerText = tt;
            document.getElementById('cell5_1').innerText = 2;
            document.getElementById('cell6_1').innerText = 2;
            document.getElementById('cell7_1').innerText = 2;
            document.getElementById('cell8_1').innerText = 2;
            document.getElementById('cell9_1').innerText = 2;
            document.getElementById('cell10_1').innerText = 2;
            document.getElementById('cell11_1').innerText = 2;
            document.getElementById('cell12_1').innerText = 2;
            document.getElementById('cell13_1').innerText = 2;

            // 새로운 행을 생성
            var newRow = document.createElement('tr'); //var형 변수, 객체 생성

            var newCell = document.createElement('td'); //랜덤하지 않은 값 생성
            newCell.innerText = callCount;

            newRow.appendChild(newCell);

            // 각 열의 값을 랜덤하게 업데이트하고 새로운 행에 추가
            for (var i = 1; i < 13; i++) {
                var newCell = document.createElement('td'); //var형 변수, 객체 생성
                newCell.innerText = Math.floor(Math.random() * 100); //innerText에 숫자 넣기
                newRow.appendChild(newCell);  //객체 넣기
            }

            // 기존의 tbody에 새로운 행을 추가
            document.querySelector('#dynamicTable tbody').appendChild(newRow);
            callCount++;
        }

        // 페이지 로드 시 자동으로 시작
        document.addEventListener('DOMContentLoaded', function () {
            intervalId = setInterval(updateTable, 1000);
        });

        // "시작" 버튼 클릭 시 함수를 1초마다 호출
        document.getElementById('startButton').addEventListener('click', function () {
            intervalId = setInterval(updateTable, 1000);
        });

        // "멈춤" 버튼 클릭 시 함수 호출 멈춤
        document.getElementById('stopButton').addEventListener('click', function () {
            clearInterval(intervalId);
        });
    </script>

</body>

</html>